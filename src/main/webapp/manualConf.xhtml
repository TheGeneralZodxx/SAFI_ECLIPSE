<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="./layout.xhtml">
        <ui:define name="content">
            <h:form id="formManualUsuario"  title=" ">
                <ace:panel id="panelManualUsuario" header="#{msg.confManual}">  
                    <table border="0" cellspacing="5" cellpadding="5" class="panel-buttons">
                        <tr>
                            <td align="left">
                                #{msg.tituloManual} 
                            </td>
                        </tr>
                    </table>
                    <table>
                        <tr>
                            <td align="right">
                                <h:outputLabel value="(*) #{msg.manual}:"/>
                            </td>
                            <td align="center">
                                <ace:simpleSelectOneMenu id="dropDown"
                                                         value="#{manualManagedBean.dropDown}"
                                                         label="#{msg.manual}"
                                                         required="true">
                                    <f:selectItem itemValue="0" noSelectionOption="true" itemLabel="#{msg.elegir}"/>
                                    <f:selectItems value="#{manualManagedBean.selectItems}"/>
                                    <ace:ajax execute="@this" render="@this dropDown dropDownMsg" event="valueChange"/>
                                </ace:simpleSelectOneMenu>
                            </td>
                            <td align="center">
                                <ace:message id="dropDownMsg"
                                             for="dropDown"
                                             initEffect="slide"
                                             changeEffect="shake"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <a id="linkManual"
                                   class="no-mostrar"
                                   href="#{request.contextPath}/manuales/#{manualManagedBean.linkDescarga}"
                                   download="#{manualManagedBean.nombreDescarga}">
                                    #{msg.descargar}
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <ace:pushButton actionListener="#{manualManagedBean.clickBoton}" value="#{msg.descargar}"/>
                            </td>
                            <td></td>
                        </tr>
                    </table>
                </ace:panel>
                <script>
                    function download() {
                        let downloadLink = document.getElementById("linkManual");
                        downloadLink.click();
                    }
                </script>
            </h:form>
        </ui:define>
    </ui:composition>
</html>